# Maintainer: Nikita Ukhrenkov <thekit@disroot.org>
pkgname=libhildon
pkgver=2.2.28
pkgrel=0
pkgdesc="Application framework for Linux operating system mobile devices"
arch="all !armhf !armv7"
url="https://github.com/maemo-leste/libhildon"
license="LGPL-2.1-or-later"
depends="gtk+2.0-maemo maemo-l10n"
depends_dev="gtk+2.0-maemo-dev libcanberra-dev gconf-dev"
makedepends="$depends_dev autoconf automake libtool gtk-doc"
subpackages="$pkgname-static $pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/maemo-leste/libhildon/archive/$pkgver.tar.gz
	hildon-non-glibc.patch"

build() {
	./autogen.sh --prefix=/usr
	make
}

package() {
	make DESTDIR="$pkgdir/" install
	# Prevent conflict with maemo-l10n
	rm -rf "$pkgdir/usr/share/locale"
}
sha512sums="15c337b08b630d1ce87d126d8bbe21715c2ef3b812520243cba12c70c9f036d72d294ad8a7834fa331d9e42f971235aaafe5968cc4a76ccb3a3dc60a059e8bd0  libhildon-2.2.28.tar.gz
5cc6578d513794276ed46292de9ecb72400477ffafa560ebbef2028c214e1a7c8e371f5179941cbfcb1865d2fc2db71e4f50f81e95a5173f247ec4412e312d12  hildon-non-glibc.patch"
